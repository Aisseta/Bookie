[{"/Users/macbook/Documents/Blog/client/src/index.js":"1","/Users/macbook/Documents/Blog/client/src/App.js":"2","/Users/macbook/Documents/Blog/client/src/reportWebVitals.js":"3","/Users/macbook/Documents/Blog/client/src/Post.js":"4","/Users/macbook/Documents/Blog/client/src/Header.js":"5","/Users/macbook/Documents/Blog/client/src/Layout.js":"6","/Users/macbook/Documents/Blog/client/src/Pages/IndexPage.js":"7","/Users/macbook/Documents/Blog/client/src/Pages/LoginPage.js":"8","/Users/macbook/Documents/Blog/client/src/Pages/RegisterPage.js":"9","/Users/macbook/Documents/Blog/client/src/UserContext.js":"10","/Users/macbook/Documents/Blog/client/src/Pages/CreatePost.js":"11","/Users/macbook/Documents/Blog/client/src/Pages/EditPost.js":"12","/Users/macbook/Documents/Blog/client/src/Editor.js":"13","/Users/macbook/Documents/Blog/client/src/Pages/PostPage.js":"14","/Users/macbook/Documents/Blog/client/src/Api-books.js":"15","/Users/macbook/Documents/Blog/client/src/Footer.js":"16","/Users/macbook/Documents/Blog/client/src/CurrentlyReading.js":"17"},{"size":626,"mtime":1697546972000,"results":"18","hashOfConfig":"19"},{"size":967,"mtime":1700140642000,"results":"20","hashOfConfig":"19"},{"size":362,"mtime":1697533419000,"results":"21","hashOfConfig":"19"},{"size":677,"mtime":1706469599000,"results":"22","hashOfConfig":"19"},{"size":1185,"mtime":1706469590000,"results":"23","hashOfConfig":"19"},{"size":211,"mtime":1700143514000,"results":"24","hashOfConfig":"19"},{"size":1052,"mtime":1706469543000,"results":"25","hashOfConfig":"19"},{"size":1479,"mtime":1706469552000,"results":"26","hashOfConfig":"19"},{"size":1104,"mtime":1706469568000,"results":"27","hashOfConfig":"19"},{"size":342,"mtime":1697827033000,"results":"28","hashOfConfig":"19"},{"size":1914,"mtime":1706469627000,"results":"29","hashOfConfig":"19"},{"size":1808,"mtime":1706472814000,"results":"30","hashOfConfig":"19"},{"size":572,"mtime":1701212537000,"results":"31","hashOfConfig":"19"},{"size":1739,"mtime":1706473067000,"results":"32","hashOfConfig":"19"},{"size":308,"mtime":1701342541000,"results":"33","hashOfConfig":"19"},{"size":631,"mtime":1701249429000,"results":"34","hashOfConfig":"19"},{"size":2825,"mtime":1706470494000,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},"1yhneag",{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"50"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78"},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86"},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"99"},"/Users/macbook/Documents/Blog/client/src/index.js",[],[],["100"],"/Users/macbook/Documents/Blog/client/src/App.js",[],[],"/Users/macbook/Documents/Blog/client/src/reportWebVitals.js",[],[],"/Users/macbook/Documents/Blog/client/src/Post.js",["101","102"],[],"import {formatISO9075} from \"date-fns\";\nimport {Link} from \"react-router-dom\";\n\nexport default function Post({_id,title,summary,cover,content,createdAt,author}) {\n\n  return (\n    <div className=\"post\">\n      <div className=\"image\">\n        <Link to={`/post/${_id}`}>\n          <img src={'http://localhost:3000/'+cover} alt=\"\"/>\n        </Link>\n      </div>\n      <div className=\"texts\">\n        <Link to={`/post/${_id}`}>\n        <h2>{title}</h2>\n        </Link>\n        <p className=\"info\">\n          <a className=\"author\"></a>\n          <time>{formatISO9075(new Date(createdAt))}</time>\n        </p>\n        <p className=\"summary\">{summary}</p>\n      </div>\n    </div>\n  );\n}",["103"],"/Users/macbook/Documents/Blog/client/src/Header.js",["104","105","106"],[],"import {Link} from \"react-router-dom\";\nimport {useContext, useEffect, useState} from \"react\";\nimport {UserContext} from \"./UserContext\";\n\n\nexport default function Header() {\n  const {setUserInfo,userInfo} = useContext(UserContext);\n  useEffect(() => {\n    fetch('http://localhost:3000/profile', {\n      credentials: 'include',\n    }).then(response => {\n      response.json().then(userInfo => {\n        setUserInfo(userInfo);\n      });\n    });\n  }, []);\n\n  function logout() {\n    fetch('http://localhost:4000/logout', {\n      credentials: 'include',\n      method: 'POST',\n    });\n    setUserInfo(null);\n  }\n\n  const username = userInfo?.username;\n\n  return (\n    <header>\n      <Link to=\"/\" className=\"logo\">THE BOOKSHELF</Link>\n      <div className=\"nav-display\">\n        <nav>\n          {username && (\n            <>\n              <Link to=\"/create\">New article</Link>\n              <a onClick={logout}>Logout ({username})</a>\n            </>\n          )}\n          {!username && (\n            <>\n              <Link to=\"/login\">Login</Link>\n              <Link to=\"/register\">Register</Link>\n            </>\n          )}\n        </nav>\n      </div>\n      \n     \n    </header>\n  );\n}",["107"],"/Users/macbook/Documents/Blog/client/src/Layout.js",[],[],"/Users/macbook/Documents/Blog/client/src/Pages/IndexPage.js",["108","109"],[],"import Post from \"../Post\";\nimport Footer from \"../Footer\";\nimport Api from \"../Api-books\";\nimport {useState, useEffect} from 'react';\nimport gif from \"../Pages/Reading Woman — Bodil Jane.gif\";\nimport axios from 'axios';\n\n\nexport default function IndexPage() {\n    const [posts, setPosts] = useState([])\n    useEffect(()=>{\n        fetch('http://localhost:3000/post').then(response => {\n            response.json().then(posts =>{\n              setPosts(posts)\n            }) \n        })\n    }, []);\n    return(\n        <>\n        <h2 className=\"gif-presentation-title\">Uncover profound stories and insights, savoring each book one at a time.</h2>\n        <div className=\"gif-presentation\">\n            <img src={gif} alt=\"presentation image\" />\n        </div>\n        <Api/>\n        <div className=\"display-post\">\n        <h1>Latest Articles</h1>\n        <div className=\"posts-articles\">\n        {posts.length > 0 && posts.map(post => (\n        <Post {...post}/>\n            ))}\n        </div>\n        </div>\n        <Footer />\n        </>\n    );\n\n}\n","/Users/macbook/Documents/Blog/client/src/Pages/LoginPage.js",[],[],"/Users/macbook/Documents/Blog/client/src/Pages/RegisterPage.js",[],[],"/Users/macbook/Documents/Blog/client/src/UserContext.js",[],[],"/Users/macbook/Documents/Blog/client/src/Pages/CreatePost.js",[],[],"/Users/macbook/Documents/Blog/client/src/Pages/EditPost.js",["110"],[],"import {useEffect, useState} from \"react\";\nimport {Navigate, useParams} from \"react-router-dom\";\nimport Editor from \"../Editor\";\n\nexport default function EditPost() {\n  const {id} = useParams();\n  const [title,setTitle] = useState('');\n  const [summary,setSummary] = useState('');\n  const [content,setContent] = useState('');\n  const [files, setFiles] = useState('');\n  const [redirect,setRedirect] = useState(false);\n\n  useEffect(() => {\n    fetch('http://localhost:3000/post/'+id)\n      .then(response => {\n        response.json().then(postInfo => {\n          setTitle(postInfo.title);\n          setContent(postInfo.content);\n          setSummary(postInfo.summary);\n        });\n      });\n  }, []);\n\n  async function updatePost(ev) {\n    ev.preventDefault();\n    const data = new FormData();\n    data.set('title', title);\n    data.set('summary', summary);\n    data.set('content', content);\n    data.set('id', id);\n    if (files?.[0]) {\n      data.set('file', files?.[0]);\n    }\n    const response = await fetch('http://localhost:3000/post', {\n      method: 'PUT',\n      body: data,\n      credentials: 'include',\n    });\n    if (response.ok) {\n      setRedirect(true);\n    }\n  }\n\n  if (redirect) {\n    return <Navigate to={'/post/'+id} />\n  }\n\n  return (\n    <form onSubmit={updatePost}>\n      <input type=\"title\"\n             placeholder={'Title'}\n             value={title}\n             onChange={ev => setTitle(ev.target.value)} />\n      <input type=\"summary\"\n             placeholder={'Summary'}\n             value={summary}\n             onChange={ev => setSummary(ev.target.value)} />\n      <input type=\"file\"\n             onChange={ev => setFiles(ev.target.files)} />\n      <Editor onChange={setContent} value={content} />\n      <button style={{marginTop:'5px'}}>Update post</button>\n    </form>\n  );\n}","/Users/macbook/Documents/Blog/client/src/Editor.js",[],[],["111"],"/Users/macbook/Documents/Blog/client/src/Pages/PostPage.js",["112"],[],"import {useContext,useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {formatISO9075} from \"date-fns\";\nimport {UserContext} from \"../UserContext\";\nimport {Link} from 'react-router-dom';\n\nexport default function PostPage() {\n  \n  const [postInfo,setPostInfo] = useState(null);\n  const {userInfo} = useContext(UserContext);\n  const {id} = useParams();\n  useEffect(() => {\n    fetch(`http://localhost:3000/post/${id}`)\n      .then(response => {\n        response.json().then(postInfo => {\n          setPostInfo(postInfo);\n        });\n      });\n  }, []);\n\n  if (!postInfo) return '';\n\n  return (\n    <div className=\"post-page\">\n      <h1>{postInfo.title}</h1>\n      <time>{formatISO9075(new Date(postInfo.createdAt))}</time>\n      <div className=\"author\">by @{postInfo.author.username}</div>\n      {userInfo.id === postInfo.author._id && (\n        <div className=\"edit-row\">\n          <Link className=\"edit-btn\" to={`/edit/${postInfo._id}`}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10\" />\n            </svg>\n            Edit this post\n          </Link>\n        </div>\n      )}\n      <div className=\"image\">\n        <img src={`http://localhost:3000/${postInfo.cover}`} alt=\"\"/>\n      </div>\n      <div className=\"content\" dangerouslySetInnerHTML={{__html:postInfo.content}} />\n    </div>\n  );\n}","/Users/macbook/Documents/Blog/client/src/Api-books.js",["113","114"],[],"\nimport React, { useState, useEffect } from 'react';\nimport Currently from './CurrentlyReading';\n\nexport default function Api() {\n  \n\n  return (\n    <div className=\"background-api\">\n     <div className=\"section-book\">\n      <h1>Currently Reading</h1>\n      <Currently />\n     </div>\n      \n    </div>\n  );\n}\n",["115"],"/Users/macbook/Documents/Blog/client/src/Footer.js",[],[],"/Users/macbook/Documents/Blog/client/src/CurrentlyReading.js",["116"],[],"import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nexport default function Currently() {\n  const [books, setBooks] = useState([]);\n\n  useEffect(() => {\n  \n   async function displayBooks(){\n       try {\n       const response = await axios.get('http://localhost:3000/search-books/politics')\n       setBooks(response.data.items.slice(0, 3)); \n      } catch (error) {\n        console.error('Error fetching books:', error);  \n      }\n    }\n    displayBooks()\n}, []);\n\n\n//   useEffect(() => {\n//     // Fonction pour récupérer les données des livres depuis l'API Google Books\n//     const fetchBooks = async () => {\n//       try {\n//         const response = await axios.get('https://www.googleapis.com/books/v1/volumes?q=tech'); // Remplacez 'programming' par le terme de recherche souhaité\n//         setBooks(response.data.items.slice(0, 3));\n//       } catch (error) {\n//         console.error('Error fetching books:', error);\n//       }\n//     };\n    \n//     // Appel de la fonction pour récupérer les données des livres\n//     fetchBooks();\n//   }, []); // Le tableau vide signifie que useEffect sera exécuté une seule fois après le rendu initial\n\n  const handleSubmitTermChange = async (i,e) => {\n    e.preventDefault();\n    console.log(e.target[0].value)\n    try{\n        const newbook=[...books]\n        \n        //console.log(i,newbook)\n        // setBooks()\n        //console.log(newbook)\n        const response = await axios.get(`https://www.googleapis.com/books/v1/volumes?q=${e.target[0].value}`)\n        if(response.data){\n        const findBook = response.data.items[0]\n        newbook.splice(i,1,findBook)\n        setBooks(newbook)\n        const fetchQuery = await axios.post('http://localhost:3000/add-booksusers', newbook)\n        }else{\n            console.error(\"pb monet \")\n        }\n           \n    }catch (error){\n        console.error(error)\n    }\n  };\n\n  return (\n    <section className=\"third-section\">\n      <article className=\"book-carrousel\">\n        {books.map((book,i) => (\n          <article key={i}>\n            <img className=\"bookcover\" src={book.volumeInfo.imageLinks.thumbnail} alt={`Cover of ${book.volumeInfo.title}`} />\n            <p className=\"title\">{book.volumeInfo.title}</p>\n            <p className=\"author\">{book.volumeInfo.authors && book.volumeInfo.authors.join(', ')}</p>\n            <p>Rating: {book.volumeInfo.averageRating || 'N/A'}</p>\n            <form onSubmit={(e)=>handleSubmitTermChange(i,e)}>\n              <label htmlFor={`searchTerm-${book.id}`}>Search Book:</label>\n              <input\n                type=\"text\"\n                id={`searchTerm-${book.id}`}\n                />\n                <button type=\"submit\">Submit</button>\n            </form>\n          </article>\n        ))}\n      </article>\n    </section>\n  );\n}\n\n\n",["117"],{"ruleId":"118","replacedBy":"119"},{"ruleId":"120","severity":1,"message":"121","line":18,"column":11,"nodeType":"122","endLine":18,"endColumn":33},{"ruleId":"123","severity":1,"message":"124","line":18,"column":11,"nodeType":"122","endLine":18,"endColumn":33},{"ruleId":"118","replacedBy":"125"},{"ruleId":"126","severity":1,"message":"127","line":2,"column":32,"nodeType":"128","messageId":"129","endLine":2,"endColumn":40},{"ruleId":"130","severity":1,"message":"131","line":16,"column":6,"nodeType":"132","endLine":16,"endColumn":8,"suggestions":"133"},{"ruleId":"123","severity":1,"message":"124","line":36,"column":15,"nodeType":"122","endLine":36,"endColumn":35},{"ruleId":"118","replacedBy":"134"},{"ruleId":"126","severity":1,"message":"135","line":6,"column":8,"nodeType":"128","messageId":"129","endLine":6,"endColumn":13},{"ruleId":"136","severity":1,"message":"137","line":22,"column":13,"nodeType":"122","endLine":22,"endColumn":55},{"ruleId":"130","severity":1,"message":"138","line":22,"column":6,"nodeType":"132","endLine":22,"endColumn":8,"suggestions":"139"},{"ruleId":"118","replacedBy":"140"},{"ruleId":"130","severity":1,"message":"138","line":19,"column":6,"nodeType":"132","endLine":19,"endColumn":8,"suggestions":"141"},{"ruleId":"126","severity":1,"message":"127","line":2,"column":17,"nodeType":"128","messageId":"129","endLine":2,"endColumn":25},{"ruleId":"126","severity":1,"message":"142","line":2,"column":27,"nodeType":"128","messageId":"129","endLine":2,"endColumn":36},{"ruleId":"118","replacedBy":"143"},{"ruleId":"126","severity":1,"message":"144","line":50,"column":15,"nodeType":"128","messageId":"129","endLine":50,"endColumn":25},{"ruleId":"118","replacedBy":"145"},"no-new-object",["146"],"jsx-a11y/anchor-has-content","Anchors must have content and the content must be accessible by a screen reader.","JSXOpeningElement","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md",["146"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setUserInfo'. Either include it or remove the dependency array.","ArrayExpression",["147"],["146"],"'axios' is defined but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["148"],["146"],["149"],"'useEffect' is defined but never used.",["146"],"'fetchQuery' is assigned a value but never used.",["146"],"no-object-constructor",{"desc":"150","fix":"151"},{"desc":"152","fix":"153"},{"desc":"152","fix":"154"},"Update the dependencies array to be: [setUserInfo]",{"range":"155","text":"156"},"Update the dependencies array to be: [id]",{"range":"157","text":"158"},{"range":"159","text":"158"},[448,450],"[setUserInfo]",[695,697],"[id]",[580,582]]